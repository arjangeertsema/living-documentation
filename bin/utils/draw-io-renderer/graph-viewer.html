<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="viewer.min.js" charset="UTF-8"></script>
</head>
<body>
    <script>
        const params = new URLSearchParams(document.location.search);
        const data = decodeURIComponent(params.get("data"));

        const div = document.createElement("div");
        div.setAttribute("class", "mxgraph");
        div.setAttribute("data-mxgraph", data);
        document.body.appendChild(div);

        GraphViewer.createViewerForElement(div, (viewer) => {
            const svg = viewer.graph.getSvg();

            const result = document.createElement("div");
            result.setAttribute("id", "result");            
            result.innerText = svg.outerHTML;

            document.body.appendChild(result);
        });

    </script>
</body>
</html>