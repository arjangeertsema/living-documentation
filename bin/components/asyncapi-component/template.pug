doctype html
html 
  head
    base(href=data.baseHref target='_top')
    meta(charset='UTF-8')
    title='AsyncAPI'
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    link(href=data.root + 'assets/asyncapi/html-template/global.min.css' rel='stylesheet')
    link(href=data.root + 'assets/asyncapi/html-template/asyncapi.min.css' rel='stylesheet')
  
  body
    div(id='root')
    
    script(src=data.root + 'assets/iframe-resizer-dist/iframeResizer.contentWindow.js' charset='UTF-8')
    script(src=data.root + 'assets/asyncapi/html-template/asyncapi-ui.min.js' charset='UTF-8') 
    script.
      const schema = !{schema};
      const config = {
          'show': {
              'sidebar':true
          },
          'sidebar': { 
            'showOperations': 'byDefault'
          }
      };
      
      AsyncApiStandalone.hydrate({ schema, config }, document.getElementById('root'));